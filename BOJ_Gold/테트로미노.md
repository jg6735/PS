# **í…ŒíŠ¸ë¡œë¯¸ë…¸**
### ğŸ“Œ [BOJ G5 14500 í…ŒíŠ¸ë¡œë¯¸ë…¸](https://www.acmicpc.net/problem/14500)
-------------
### **âœ” í’€ì´ ê³¼ì • / í•™ìŠµí•œ ë‚´ìš©**
- N X Mì¸ ì¢…ì´ ìœ„ì— ë†“ì¸ í…ŒíŠ¸ë¡œë¯¸ë…¸ ì¹¸ì— ìˆëŠ” ìˆ˜ë“¤ì˜ í•©ì˜ ìµœëŒ“ê°’ì„ êµ¬í•˜ëŠ” ë¬¸ì œì˜€ë‹¤.
- ì–´ë–»ê²Œ í’€ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€, ì‹œê°„ë³µì¡ë„ê°€ ì™„ì „íƒìƒ‰ì„ í•´ë„ ì´ˆê³¼ë˜ì§€ ì•Šì•„ì„œ ì™„ì „íƒìƒ‰ê³¼ dfsë¥¼ ì´ìš©í•´ì„œ í’€ê¸°ë¡œ í–ˆë‹¤.
1. ë¬¸ì œì˜ ì£¼ì–´ì§„ 4ê°€ì§€ í…ŒíŠ¸ë¡œë¯¸ë…¸ëŠ” dfsë¥¼ ì´ìš©í•´ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆëŠ” ê°’ì´ê¸° ë•Œë¬¸ì— dfsë¥¼ ì´ìš©í•´ì„œ ìµœëŒ“ê°’ì„ êµ¬í–ˆë‹¤.
	ë¬¼ë¡  ì§ì ‘ ëª¨ë“  í…ŒíŠ¸ë¡œë¯¸ë…¸ë¥¼ íšŒì „ì‹œí‚¤ë©° ê°ê° ìµœëŒ“ê°’ì„ êµ¬í•˜ë©´ ë” íš¨ìœ¨ì ì´ê² ì§€ë§Œ, ì‹œê°„ë³µì¡ë„ê°€ ì¶©ë¶„í–ˆê¸° ë•Œë¬¸ì— dfsë¥¼ ì´ìš©í–ˆë‹¤.
2. ã…œ ëª¨ì–‘ì„ ì´ìš©í•´ ë§Œë“¤ ìˆ˜ ìˆëŠ” í…ŒíŠ¸ë¡œë¯¸ë…¸ì¸ (ã…—, ã…œ, ã…“, ã…)ì˜ ê²½ìš°ëŠ” dfsë¥¼ ì´ìš©í•´ ì°¾ê¸° í˜ë“¤ê¸° ë•Œë¬¸ì— ë”°ë¡œ íƒìƒ‰í–ˆë‹¤.
3. (0, 0)ë¶€í„° íƒìƒ‰í•  ë•Œë§ˆë‹¤ ìµœëŒ“ê°’ì„ answer ë³€ìˆ˜ì— ì´ˆê¸°í™”í•˜ë©° í•´ê²°í–ˆë‹¤.
-------------
### **ì½”ë“œ**
```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class BOJ_14500_í…ŒíŠ¸ë¡œë¯¸ë…¸ {

    private static int N, M, answer;
    private static int[][] map;
    private static boolean[][] visited;
    private static int[] dx = {-1, 0, 1, 0};
    private static int[] dy = {0, 1, 0, -1};

    public static void main(String[] args) throws IOException {
        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(in.readLine());

        N = Integer.parseInt(st.nextToken());   // ì„¸ë¡œ í¬ê¸°
        M = Integer.parseInt(st.nextToken());   // ê°€ë¡œ í¬ê¸°
        map = new int[N][M];
        visited = new boolean[N][M];

        // 2ì°¨ì› ë°°ì—´ì— ê°’ ì €ì¥
        for (int i = 0; i < N; i++) {
            st = new StringTokenizer(in.readLine());
            for (int j = 0; j < M; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        // ì™„ì „ íƒìƒ‰ìœ¼ë¡œ í…ŒíŠ¸ë¡œë¯¸ë…¸ í•©ì˜ ìµœëŒ“ê°’ì„ êµ¬í•œë‹¤.
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < M; j++) {
                visited[i][j] = true;
                dfs(i, j, 1, map[i][j]);
                visited[i][j] = false;
                getTshape(i, j);
            }
        }

        System.out.print(answer);
    }

    // (ã…œ, ã…—, ã…“, ã…) ëª¨ì–‘ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ëª¨ì–‘ì„ ì°¾ê¸° ìœ„í•œ DFS
    private static void dfs(int x, int y, int count, int sum) {
        // ê¸°ì € ì¡°ê±´ : 4ë²ˆ ì´ë™í–ˆì„ê²½ìš° - í…ŒíŠ¸ë¡œë¯¸ë…¸ê°€ ë†“ì¸ ì¹¸ì— ì íŒ ìˆ˜ì˜ ìµœëŒ“ê°’ êµ¬í•˜ê¸°
        if (count == 4) {
            answer = Math.max(sum, answer);
            return;
        }

        for (int d = 0; d < 4; d++) {
            int nextX = x + dx[d];
            int nextY = y + dy[d];

            // ë°°ì—´ ë²”ìœ„ ë°”ê¹¥ì´ë©´ PASS
            if (nextX < 0 || nextX >= N || nextY < 0 || nextY >= M) {
                continue;
            }

            // ì´ë¯¸ ë°©ë¬¸í–ˆë‹¤ë©´ PASS
            if (visited[nextX][nextY]) {
                continue;
            }

            visited[nextX][nextY] = true;   // ë°©ë¬¸ ì²´í¬
            dfs(nextX, nextY, count + 1, map[nextX][nextY] + sum);  // í•©ì„ êµ¬í•œ ë’¤ dfs
            visited[nextX][nextY] = false;  // ë°©ë¬¸ ì²´í¬ í•´ì œ
        }

    }

    // dfsë¡œ êµ¬í•  ìˆ˜ ì—†ëŠ” (ã…—, ã…œ, ã…“, ã…) ëª¨ì–‘ì˜ í…ŒíŠ¸ë¡œë¯¸ë…¸ ê°’ì˜ í•©ì„ êµ¬í•˜ëŠ” ë©”ì„œë“œ
    private static void getTshape(int x, int y) {
        // ã…— ëª¨ì–‘ í•© êµ¬í•˜ê¸°
        if (x > 0 && y < M - 2) {
            int sum = map[x][y] + map[x][y + 1] + map[x][y + 2] + map[x - 1][y + 1];
            answer = Math.max(answer, sum);
        }

        // ã…œ ëª¨ì–‘ í•© êµ¬í•˜ê¸°
        if (x < N - 1 && y < M - 2) {
            int sum = map[x][y] + map[x][y + 1] + map[x][y + 2] + map[x + 1][y + 1];
            answer = Math.max(answer, sum);
        }

        // ã… ëª¨ì–‘ í•© êµ¬í•˜ê¸°
        if (x < N - 2 && y < M - 1) {
            int sum = map[x][y] + map[x + 1][y] + map[x + 2][y] + map[x + 1][y + 1];
            answer = Math.max(answer, sum);
        }

        // ã…“ ëª¨ì–‘ í•© êµ¬í•˜ê¸°
        if (x < N - 2 && y > 0) {
            int sum = map[x][y] + map[x + 1][y] + map[x + 2][y] + map[x + 1][y - 1];
            answer = Math.max(answer, sum);
        }
    }
}
```