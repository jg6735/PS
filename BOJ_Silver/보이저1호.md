# **ë³´ì´ì € 1í˜¸**
### ğŸ“Œ [BOJ S1 3987 ë³´ì´ì € 1í˜¸](https://www.acmicpc.net/problem/2987)
-------------
### **âœ” í’€ì´ ê³¼ì • / í•™ìŠµí•œ ë‚´ìš©**
ë³´ì´ì € ê°ì²´ë¥¼ ìƒì„±í•´ì„œ 4 ë°©í–¥ìœ¼ë¡œ ëª¨ë‘ ì‹œê·¸ë„ì„ ë³´ë‚´ê³  ìµœëŒ€ ì‹œê°„ê³¼ ê·¸ë•Œì˜ ë°©í–¥ì„ ì €ì¥í–ˆë‹¤.
ê·¸ë¦¬ê³  ì²˜ìŒ ì¶œë°œì§€ì˜ ì¢Œí‘œì™€ ë°©í–¥ì„ ë¯¸ë¦¬ ì €ì¥í•˜ê³  ê·¸ê²ƒë“¤ê³¼ ëª¨ë‘ ì¼ì¹˜í•˜ëŠ” ê²½ìš° ë¬´í•œ ì „íŒŒì¸ ê±¸ë¡œ í•˜ê³  í’€ì—ˆë‹¤.
-------------
### **ì½”ë“œ**

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class ë³´ì´ì €1í˜¸ {
    private static int time = 0;
    private static int dir = 0;
    private static boolean infinity = false;
    private static int[] dr = {-1, 0, 1, 0};
    private static int[] dc = {0, 1, 0, -1};
    private static final char[] DIRS = {'U', 'R', 'D', 'L'};
    private static final String VOYAGER = "Voyager";

    private static class Voyager {
        private int r;
        private int c;
        private int d;
        private int count;

        public Voyager(int r, int c, int d, int count) {
            this.r = r;
            this.c = c;
            this.d = d;
            this.count = count;
        }

        public int getR() {
            return r;
        }

        public int getC() {
            return c;
        }

        public int getD() {
            return d;
        }

        public int getCount() {
            return count;
        }

        // í˜„ì¬ íƒì‚¬ì„  ì´ë™ ë©”ì†Œë“œ
        public void move(int nextR, int nextC) {
            r = nextR;
            c = nextC;
            count += 1;
        }

        // í˜„ì¬ íƒì‚¬ì„ ì˜ ë°©í–¥ ë°”ê¾¸ëŠ” ë©”ì†Œë“œ
        public void changeDir(Voyager voyager, char[][] grid, int nextR, int nextC) {
            int curD = voyager.getD(); // í˜„ì¬ ë°©í–¥ê°’

            // '/' ë§Œë‚¬ì„ ë•Œ íƒì‚¬ì„ ì˜ ë°©í–¥ê°’ ìˆ˜ì •
            if (grid[nextR][nextC] == '/') {
                d = curD == 1 || curD == 3 ? (curD + 3) % 4 : curD + 1;
            // '\' ë§Œë‚¬ì„ ë•Œ íƒì‚¬ì„ ì˜ ë°©í–¥ê°’ ìˆ˜ì •
            } else if (grid[nextR][nextC] == '\\') {
                d = curD == 1 || curD == 3 ? (curD + 1) % 4 : (curD + 3) % 4;
            }
        }
    }

    private static void sendSignal(char[][] grid, Voyager voyager) {
        // íƒì‚¬ë¥¼ ì‹œì‘í•œ ì¢Œí‘œì™€ ë°©í–¥ê°’
        int r = voyager.getR();
        int c = voyager.getC();
        int d = voyager.getD();

        int nextR, nextC;
        while (true) {
            // í˜„ì¬ íƒì‚¬ì„ ì˜ ë°©í–¥ê°’ì— ë”°ë¼ ë‹¤ìŒ ì¢Œí‘œê°’ êµ¬í•˜ê¸°
            nextR = voyager.getR() + dr[voyager.getD()];
            nextC = voyager.getC() + dc[voyager.getD()];

            // ê°™ì€ ìœ„ì¹˜ì— ê°™ì€ ë°©í–¥ìœ¼ë¡œ ë˜ ë„ì°©í•˜ë©´ ë¬´í•œ ì „íŒŒ
            if (nextR == r && nextC == c && voyager.getD() == d) {
                dir = d;
                infinity = true;
                return;
            }

            // ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê±°ë‚˜ ë¸”ë™í™€ì— ë¹ ì§€ë©´
            if (!isAvailable(grid, nextR, nextC) || grid[nextR][nextC] == 'C') {
                // ìµœëŒ€ ì‹œê°„ì¸ ê²½ìš° ì‹œê°„ê³¼ ë°©í–¥ê°’ ì €ì¥
                if (time < voyager.getCount()) {
                    time = voyager.getCount();
                    dir = d;
                }

                return;
            }

            // ë°©í–¥ ì²´í¬
            voyager.changeDir(voyager, grid, nextR, nextC);
            // íƒì‚¬ì„  ì´ë™
            voyager.move(nextR, nextC);
        }
    }

    // ë²”ìœ„ ì²´í¬ ë©”ì†Œë“œ
    private static boolean isAvailable(char[][] grid, int r, int c) {
        return r >= 0 && c >= 0 && r < grid.length && c < grid[r].length;
    }

    private static String print() {
        StringBuilder builder = new StringBuilder();
        builder.append(DIRS[dir]).append("\n");
        if (infinity) {
            builder.append(VOYAGER);
        } else {
            builder.append(time);
        }

        return builder.toString();
    }

    public static void main(String[] args) throws IOException {
        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(in.readLine());
        int N = Integer.parseInt(st.nextToken());
        int M = Integer.parseInt(st.nextToken());
        char[][] grid = new char[N][M];
        for (int i = 0; i < N; i++) {
            grid[i] = in.readLine().toCharArray();
        }

        st = new StringTokenizer(in.readLine());
        int PR = Integer.parseInt(st.nextToken()) - 1;
        int PC = Integer.parseInt(st.nextToken()) - 1;
        for (int d = 0; d < 4; d++) {
            // ë¬´í•œ ì „íŒŒê°€ ìˆìœ¼ë©´ ì‹ í˜¸ ë³´ë‚´ì§€ ì•ŠìŒ
            if (!infinity) {
                sendSignal(grid, new Voyager(PR, PC, d, 1));
            }
        }

        System.out.println(print());
    }
}

```